<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard</title>
  <link href="/dashboard.css" rel="stylesheet">
  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

  <!-- Sidemenu -->
  <div class="sidemenu">
    <div class="WebappLogo">
      <img src="/logo.jpeg" alt="WebappLogo">
    </div>

    <button class="pil" onclick="skiftMenu()">
      <i class='bx bxs-chevron-left'></i>
    </button>

    <ul class="menuValg">
      <li><a href="/dashboard"><i class='bx bx-home'></i>Dashboard</a></li>
      <li><a href="/kontiOversigt"><i class='bx bxs-user-account'></i>Konti</a></li>
      <li><a href="/portefoljeOversigt"><i class='bx bx-doughnut-chart'></i>Porteføljer</a></li>
      <li><a href="/indstillinger"><i class='bx bx-cog'></i>Indstillinger</a></li>
    </ul>

    <ul class="logUd">
      <li><a href="/login"><i class='bx bx-log-out'></i>Log ud</a></li>
    </ul>
  </div>

  <!-- Indhold -->
  <div class="indhold">
    <h1>Dashboard</h1>

    <!-- Øverste boksrække -->
    <div class="øvreBoks">
      <div class="mindreBoks">Total værdi</div>
      <div class="mindreBoks">Total Realiseret Gevinst</div>
      <div class="mindreBoks">Total Urealiseret Gevinst</div>
    </div>

    <!-- Graf og liste -->
    <div class="grafBoks">
      <canvas id="chart" width="400" height="200"></canvas> <!-- TILFØJET canvas -->
    </div>

    <!-- Nederste bokse -->
    <div class="nedreBoks">
      <div class="lilleBoks">
        <h3>Top 5 Værdipapirer baseret på værdi</h3>
        <div class="top5-header">
          <div class="kolonne">Name</div>
          <div class="kolonne">Portfolio</div>
          <div class="kolonne">Value</div>
        </div>

        <!-- Data-rækker -->
        <% top5.forEach(function(stock) { %>
          <div class="top5-row">
            <div class="kolonne">
              <strong><%= stock.name %></strong><br>
              <small><%= stock.symbol %></small>
            </div>
            <div class="kolonne">Growth Tech</div> <!-- Hardcoded Portfolio navn -->
            <div class="kolonne"><%= stock.marketCap.toLocaleString() %> DKK</div>
          </div>
        <% }); %>
      </div>

      <div class="lilleBoks">
        <h3>Top 5 Værdipapirer baseret på profit</h3>
        <div class="top5-header">
          <div class="kolonne">Name</div>
          <div class="kolonne">Portfolio</div>
          <div class="kolonne">Value</div>
        </div>
        <!-- Indhold til profit liste kan laves senere -->
      </div>
    </div>
  </div>

  <!-- Script til sidemenu -->
  <script>
    const sidemenu = document.querySelector('.sidemenu');
    function skiftMenu() {
      sidemenu.classList.toggle('lukket');
    }
  </script>
</body>
</html>
