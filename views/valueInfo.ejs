<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= værdipapir.navn %> - Detaljer</title>
  <link href="/valueInfo.css" rel="stylesheet">
  <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel="stylesheet">
</head>

<body>
  <!-- Sidemenu -->
  <div class="sidemenu">
    <div class="WebappLogo">
      <img src="/logo.jpeg" alt="WebappLogo">
    </div>

    <button class="pil" onclick="skiftMenu()"> 
      <i class='bx bxs-chevron-left'></i>
    </button>

    <ul class="menuValg">
      <li><a href="/dashboard"><i class='bx bx-home'></i>Dashboard</a></li>
      <li><a href="/konto/oversigt"><i class='bx bxs-user-account'></i>Konti</a></li>
      <li><a href="/portefolje/oversigt"><i class='bx bx-doughnut-chart'></i>Porteføljer</a></li>
      <li><a href="/indstillinger"><i class='bx bx-cog'></i>Indstillinger</a></li>
    </ul>

    <ul class="logUd">
      <li><a href="/login"><i class='bx bx-log-out'></i>Log ud</a></li>
    </ul>
  </div>

  <!-- Indhold -->
  <div class="indhold">
    <div class="overskrift">
      <h2>Detaljer for <%= værdipapir.navn %></h2>
      <div class="sælgKnapBox">
        <a href="/portefolje/vaerdipapir/<%= værdipapir.værdipapirID %>/sellPapir" class="sælgKnap">Sælg</a>
      </div>
    </div>

    <div class="oversigtBox">
      <div class="listeOverskrifter">
        <span>Navn</span>
        <span>Type</span>
        <span>Symbol</span>
        <span>Antal</span>
        <span>Købs Pris</span>
        <span>Værdi</span>
        <span>GAK</span>
        <span>Urealiseret gevinst</span>
      </div>

      <div class="aktieRække">
        <div><%= værdipapir.navn || 'Ukendt' %></div>
        <div><%= værdipapir.type || 'Ukendt' %></div>
        <div><%= værdipapir.tickerSymbol || 'Ukendt' %></div>
        <div><%= !isNaN(værdipapir.antal) ? værdipapir.antal : 'Ukendt' %></div>
        <div><%= !isNaN(værdipapir.pris) ? parseFloat(værdipapir.pris).toFixed(2) + ' DKK' : 'Ukendt' %></div>

        <% 
          const antal = parseFloat(værdipapir.antal);
          const pris = parseFloat(værdipapir.pris);
          const værdi = !isNaN(antal) && !isNaN(pris) ? (antal * pris).toFixed(2) : null;
        %>
        <div><%= værdi ? værdi + ' DKK' : 'Ukendt værdi' %></div>

        <% const gak = parseFloat(værdipapir.GAK); %>
        <div><%= !isNaN(gak) ? gak.toFixed(2) + ' DKK' : 'Ukendt' %></div>

        <% const gevinst = parseFloat(værdipapir.urealiseretPorteføljeGevinstTab); %>
        <div><%= !isNaN(gevinst) ? gevinst.toFixed(2) + ' DKK' : 'Ukendt' %></div>
      </div> <!-- Slut på aktieRække -->
    </div> <!-- Slut på oversigtBox -->

    <div class="diagramBoks">
      <h2>Oversigt over udvikling af værdi</h2>
      <!-- Her kan du indsætte diagram senere -->
    </div>
  </div> <!-- Slut på indhold -->

  <script>
    const sidemenu = document.querySelector('.sidemenu');
    function skiftMenu() {
      sidemenu.classList.toggle('lukket');
    }
  </script>
</body>
</html>


